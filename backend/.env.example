# Application
APP_NAME=TikunCRM
APP_ENV=development
DEBUG=true

# Server
HOST=0.0.0.0
PORT=8000

# Database
DATABASE_URL=postgresql+asyncpg://postgres:postgres@localhost:5432/leedscrm

# JWT Settings
SECRET_KEY=your-super-secret-key-change-in-production
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=43200  # 30 days (1 month) - persistent login
REFRESH_TOKEN_EXPIRE_DAYS=60  # 60 days (2 months) - allows token refresh

# CORS
CORS_ORIGINS=http://localhost:3000,http://127.0.0.1:3000

# Google OAuth
GOOGLE_CLIENT_ID=your-google-client-id
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_REDIRECT_URI=http://localhost:8000/api/v1/auth/oauth/google/callback

# Meta/Facebook OAuth
META_APP_ID=your-meta-app-id
META_APP_SECRET=your-meta-app-secret
META_REDIRECT_URI=http://localhost:8000/api/v1/auth/oauth/meta/callback

# Frontend URL (for email links, password reset, etc.)
# For local development: http://localhost:3000
# For production: https://tikuncrm.com
FRONTEND_URL=http://localhost:3000

# ========================================
# EMAIL CONFIGURATION
# ========================================
# Choose ONE provider: smtp, sendgrid, mailgun, aws_ses
# Recommended: sendgrid or mailgun for production
EMAIL_PROVIDER=sendgrid

# Default sender info (used for all outgoing emails)
EMAIL_FROM_ADDRESS=noreply@yourdomain.com
EMAIL_FROM_NAME=TikunCRM

# ----------------------------------------
# Option 1: SendGrid (RECOMMENDED)
# ----------------------------------------
# 1. Sign up at https://sendgrid.com (free tier: 100 emails/day)
# 2. Create an API key: Settings > API Keys > Create API Key
# 3. Verify your sender domain for best deliverability
SENDGRID_API_KEY=SG.xxxxxxxxxxxxxxxxxxxx

# ----------------------------------------
# Option 2: Mailgun
# ----------------------------------------
# 1. Sign up at https://mailgun.com
# 2. Get API key from Dashboard > API Keys
# 3. Add and verify your domain
MAILGUN_API_KEY=key-xxxxxxxxxxxxxxxx
MAILGUN_DOMAIN=mg.yourdomain.com

# ----------------------------------------
# Option 3: AWS SES
# ----------------------------------------
# 1. Set up AWS SES in your AWS Console
# 2. Verify your sending domain/email
# 3. Create IAM credentials with SES permissions
AWS_SES_ACCESS_KEY=AKIAXXXXXXXXXXXXXXXX
AWS_SES_SECRET_KEY=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
AWS_SES_REGION=us-east-1

# ----------------------------------------
# Option 4: SMTP (Gmail/Hostinger/Custom)
# ----------------------------------------
# For Gmail: Create App Password at https://myaccount.google.com/apppasswords
# For Hostinger: Use your email credentials from hPanel
#
# Common SMTP Settings:
# - Gmail:     smtp.gmail.com:587 (TLS)
# - Hostinger: smtp.hostinger.com:465 (SSL) or smtp.hostinger.com:587 (TLS)
# - Outlook:   smtp-mail.outlook.com:587 (TLS)
# - Yahoo:     smtp.mail.yahoo.com:587 (TLS)
#
SMTP_HOST=smtp.hostinger.com
SMTP_PORT=465
SMTP_USER=your-email@yourdomain.com
SMTP_PASSWORD=your-email-password
SMTP_USE_TLS=false
SMTP_USE_SSL=true

# ========================================
# SMS CONFIGURATION (Twilio) - Trial supported
# ========================================
# 1. Sign up at https://twilio.com (trial is free)
# 2. Get Account SID and Auth Token from Console dashboard
# 3. Get your trial phone number: Phone Numbers > Manage > Active numbers
# 4. TRIAL ONLY: Add recipient numbers in Verified Caller IDs or SMS will fail
# 5. Set SMS_NOTIFICATIONS_ENABLED=true to send text notifications
# See docs/TWILIO_SMS_SETUP.md for full trial vs production setup
TWILIO_ACCOUNT_SID=ACxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_AUTH_TOKEN=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_PHONE_NUMBER=+1234567890
SMS_NOTIFICATIONS_ENABLED=false

# ========================================
# VOICE CALLING (Twilio WebRTC Softphone)
# ========================================
# 1. Create a TwiML Application in Twilio Console:
#    - Go to: Develop > Voice > Manage > TwiML Apps
#    - Create new app with webhook URLs (see below)
# 2. Generate API Key for Access Tokens:
#    - Go to: Account > API keys & tokens > Create API Key
#    - Choose "Standard" and save the SID and Secret
# 3. Configure your phone number to point to TwiML App:
#    - Phone Numbers > Manage > Active numbers > Configure
#    - Set "Configure with" to "TwiML App" and select your app
#
# Webhook URLs to configure in TwiML App:
#   Voice Request URL: https://yourdomain.com/api/v1/voice/webhook/outgoing
#   Status Callback:   https://yourdomain.com/api/v1/voice/webhook/status
#
# And for your phone number (for incoming calls):
#   Incoming Call > TwiML App (your app)
#   Or direct webhook: https://yourdomain.com/api/v1/voice/webhook/incoming
TWILIO_TWIML_APP_SID=APxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_API_KEY_SID=SKxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
TWILIO_API_KEY_SECRET=xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx
VOICE_ENABLED=false

# ========================================
# AZURE BLOB STORAGE (Call Recordings)
# ========================================
# 1. Create a Storage Account in Azure Portal
# 2. Go to: Access keys > Copy connection string
# 3. Container is auto-created if it doesn't exist
AZURE_STORAGE_CONNECTION_STRING=DefaultEndpointsProtocol=https;AccountName=youraccount;AccountKey=yourkey;EndpointSuffix=core.windows.net
AZURE_STORAGE_CONTAINER=call-recordings

# ========================================
# PUSH NOTIFICATIONS
# ========================================
# Option A: Firebase Cloud Messaging (FCM) HTTP V1 - RECOMMENDED
# 1. Go to https://console.firebase.google.com -> your project -> Project settings -> Service accounts
# 2. Click "Generate new private key" and download the JSON file
# 3. Put the file somewhere safe and set ONE of:
FCM_SERVICE_ACCOUNT_PATH=/path/to/your-project-firebase-adminsdk-xxxxx.json
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/your-project-firebase-adminsdk-xxxxx.json
# Optional if project_id is in the JSON:
# FCM_PROJECT_ID=your-firebase-project-id
#
# Option B: Web Push (VAPID) - fallback
# Generate: npx web-push generate-vapid-keys
VAPID_PUBLIC_KEY=your-vapid-public-key-here
VAPID_PRIVATE_KEY=your-vapid-private-key-here
VAPID_CLAIMS_EMAIL=mailto:admin@yourdomain.com
